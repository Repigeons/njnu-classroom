<html lang="zh">
<head>
    <meta charset="UTF-8"/>
    <title>南师教室公告系统</title>
    <style>
    textarea {
      height: 70%;
      width: 70%;
      font-size: xx-large;
    }
    </style>
    <script>
    function submit() {
      const text = document.getElementById('text').value
      if (confirm(`公告\n${text}`))
        fetch('#', {
          method: 'PUT',
          headers: {
            'Content-Type': "application/x-www-form-urlencoded",
            'token': document.getElementById('token').value
          },
          body: `text=${text}`,
        })
    }
    function rollback() {
      if (confirm("确认回滚？"))
        fetch('#', {
          method: 'DELETE',
          headers: { token: document.getElementById('token').value }
        })
    }
    </script>
</head>
<body>
<p>
    <label for="token">token:</label>
    <br/>
    <input id="token" type="password">
</p>
<p>
    <label for="token">公告内容:</label>
    <br/>
    <textarea id="text"></textarea>
</p>
<p>
    <button onclick="submit()">发布公告</button>
    <button onclick="rollback()" style="margin-left:60px">回滚公告</button>
</p>
</body>
</html>